# 공격

상태: 시작 전
작성일시: 2022년 1월 16일 오후 9:58

### UDP

```jsx
프로토콜: att

message: 닉네임, 몬스터 공격 여부(bool), 몬스터id

처리내용:
1. 클라이언트로 부터 ctl 프로토콜 요청을 받는다.
2. forEach()를 사용하여 참가자 전원에게 자신의 액션상태를 보낸다.
3. 몬스터 공격 여부가 true인 경우
	3-1. 참가자 배열에서 닉네임 조회
	3-2. 일치하는 닉네임의 유저 객체에 접근한다.
	3-3. 몬스터를 조회하여 몬스터id가 일치한 몬스터의 HP값을 얻는다.
	3-3. 몬스터HP - 유저객체의 공격력을 계산
		3-3-1. 만약 0보다 작다면 
			3-3-1-1. 경험치 처리를 한다.
			3-3-1-2. 리스폰 처리를 한다.
			3-3-1-3. 몬스터 배열에서 몬스터를 제거한다.
```

## 검증

input:

```jsx
path: 127.0.0.1:9000
message: {cmd: att,nick: im warrior,isAtk:true,mID:3}
```

output: 

```jsx
참가자 전원에게
{cmd:att,body:1}을 보냄
```